import{r as u,j as e,i as j}from"./index-f5AIFuXe.js";import{d as g}from"./index-BHl4HzdS.js";import{T as y}from"./treeSelectBase-Dt46HAvJ.js";import{B as F}from"./button-CtW_Xfic.js";import{F as i}from"./index-DB_FTVaT.js";import{M as S}from"./index-DkWIVcay.js";import{I as m}from"./index-B_o9MMZ0.js";import{T as b,S as C}from"./Table-D3g2WSbA.js";import"./formItemHoc-Dk_h0O8q.js";import"./EllipsisOutlined-DTrOfCu6.js";import"./dropdown-D-S4ftwO.js";const T=({open:r,onCreate:s,onCancel:o})=>{const[t]=i.useForm();return e.jsx(S,{open:r,title:"新建仓库",okText:"确定",cancelText:"取消",onCancel:()=>{t.resetFields(),o()},onOk:()=>{t.validateFields().then(a=>{t.resetFields(),s(a)}).catch(a=>{console.log("Validate Failed:",a)})},children:e.jsxs(i,{form:t,layout:"vertical",name:"form_in_modal",initialValues:{modifier:"public"},children:[e.jsx(i.Item,{name:"name",label:"状态仓库名称",rules:[{required:!0,message:"请输入!"}],children:e.jsx(m,{})}),e.jsx(i.Item,{name:"remark",rules:[{required:!0,message:"请输入!"}],label:"备注",children:e.jsx(m,{type:"textarea"})}),e.jsx(y,{rules:[{required:!0,message:"请输入!"}],name:"path",label:"路径"})]})})},k=({btnLabel:r,handleUpload:s})=>{const[o,t]=u.useState(!1),a=l=>{s(l),t(!1)};return e.jsxs("span",{style:{marginRight:"12px"},children:[e.jsxs(F,{type:"primary",onClick:()=>{t(!0)},children:["+ ",r]}),e.jsx(T,{open:o,onCreate:a,onCancel:()=>{t(!1)}})]})},d={},v=[{title:"状态仓库名称",dataIndex:"name",key:"name"},{title:"操作",key:"action",render:()=>e.jsx(C,{size:"middle",children:e.jsx("a",{children:"修改"})})}],O=()=>{const{pageNum:r,pageSize:s,total:o,storeList:t,addStoreAct:a,fetchStoreListAct:l}=j("devStore"),{loading:p,run:x}=g.useAsyncFunction(l,{auto:!0,debounceTime:1e3}),c=async()=>{await x()},h=n=>{a(n)};return u.useEffect(()=>{c()},[]),e.jsxs("div",{className:d.content,children:[e.jsx("div",{className:d.operate_board,children:e.jsx(k,{btnLabel:"添加状态仓库",handleUpload:h})}),e.jsx(b,{rowKey:n=>n.id,loading:p,pagination:{pageSize:s,current:r,total:o,onChange(n,f){console.log(n,f),c()}},columns:v,dataSource:t})]})};export{O as default};
