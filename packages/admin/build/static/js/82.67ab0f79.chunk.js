"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[82],{2082:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var i=n(8e3),a=n(3870),r=n(4574),s=n(340),o=n(2466),l=n(2501),c=n(7801),d=n(1813),u=n(1293),m=n(9334),p=n(3018);const h=["user","company","category","opportunity","empty"];var f=()=>{const{setAddModalShowAct:e,deleteAct:t,queryAct:n,setIsDetailAct:i,recordData:a}=(0,d.o)()[0];return(0,o.Gm)((()=>[{title:"name",dataIndex:"name",key:"name",fieldConfig:{isSearch:!0,formOptions:{label:"name",name:"name",rules:[{required:!0},{type:"string",min:4,max:60}]}},render:(t,n)=>(0,p.jsx)("a",{onClick:()=>{i(!0),e(!0,n)},children:t})},{title:"description",dataIndex:"description",key:"description",fieldConfig:{isSearch:!0,formOptions:{label:"description",name:"description",rules:[{required:!0},{type:"string",min:4,max:60}]}}},{title:"type",dataIndex:"type",key:"type",fieldConfig:{isSearch:!0,options:h,inputType:"Select",formOptions:{rules:[{required:!0}],label:"type",name:"type"}}},{title:"target_id",dataIndex:"target_id",key:"target_id",fieldConfig:{isSearch:!0,formOptions:{rules:[{type:"number"}],label:"target_id",name:"target_id",normalize:u.It}}},{title:"action",key:"action",render:(i,a)=>(0,p.jsxs)(m.Z,{size:"middle",children:[(0,p.jsx)("a",{onClick:()=>{e(!0,a)},children:"edit"}),(0,p.jsx)("a",{onClick:()=>{c.Z.confirm({content:"are you sure?",onOk:async()=>{await t({id:a.id}),n()}})},children:"delete"})]})}]),[a])};var y=()=>{const[e]=l.Z.useForm(),{setAddModalShowAct:t,addAct:n,updateAct:i,queryAct:a,recordData:r,isShowAddModal:u,isDetail:m}=(0,d.o)()[0],{formList:h}=f(),y=(0,o.uA)(h,{formIns:e,isJustShow:m});(0,s.useEffect)((()=>{r&&e.setFieldsValue(r)}),[r]);let g=m?{footer:[]}:{};return(0,p.jsx)(c.Z,{open:u,title:"add",...g,onCancel:()=>{e.resetFields(),t(!1)},onOk:()=>{e.validateFields().then((async s=>{let o=r?i:n;await o(s),t(!1),e.resetFields(),a()})).catch((e=>{console.log("Validate Failed:",e)}))},children:(0,p.jsx)(l.Z,{form:e,children:y})})},g=n(1377),x=n(936),j=n(5166),Z=n(9473);const v=()=>{const{searchList:e}=f(),[t,n]=(0,s.useState)(!1);const a=(0,o.Wc)(e,{count:4}),[r]=l.Z.useForm(),{queryAct:c,pageSize:u}=(0,d.o)()[0];return(0,p.jsxs)(l.Z,{form:r,name:"advanced_search",className:"ant-advanced-search-form",onFinish:e=>{console.log("Received values of form: ",e)},children:[(0,p.jsx)(j.Z,{gutter:24,children:t?a:a.slice(0,4)}),(0,p.jsx)(j.Z,{children:(0,p.jsxs)(Z.Z,{span:24,style:{textAlign:"right"},children:[(0,p.jsx)(i.Z,{onClick:()=>{c({...r.getFieldsValue(),page:1,page_size:u})},type:"primary",htmlType:"submit",children:"Search"}),(0,p.jsx)(i.Z,{style:{margin:"0 8px"},onClick:()=>{r.resetFields()},children:"Clear"}),(0,p.jsxs)("a",{style:{fontSize:12},onClick:()=>{n(!t)},children:[t?(0,p.jsx)(g.Z,{}):(0,p.jsx)(x.Z,{})," Collapse"]})]})})]})};var A=e=>(0,p.jsx)("div",{style:{marginBottom:"32px"},children:(0,p.jsx)(v,{})}),C={container:"style_container__VmABn"};var k=()=>{const{pageNum:e,pageSize:t,loading:n,total:o,dataList:l,currentTypeId:c,setcurrentTypeId:u,queryAct:m,setAddModalShowAct:g}=(0,d.o)()[0],{columns:x}=f();(0,s.useEffect)((()=>{j(e,t)}),[c]);const j=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;await m({page:e,page_size:t,type:h[c]})};return(0,p.jsxs)("div",{className:C.content,children:[(0,p.jsx)(A,{}),(0,p.jsx)("div",{children:(0,p.jsx)(i.Z,{type:"primary",onClick:()=>{g(!0)},style:{marginBottom:12},children:"+ add"})}),(0,p.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:10},children:(0,p.jsx)(a.Z,{style:{width:100},onChange:e=>{u(e)},defaultValue:h[c],children:h.map(((e,t)=>(0,p.jsx)(a.Z.Option,{value:t,children:e},e)))})}),(0,p.jsx)(y,{}),(0,p.jsx)(r.Z,{scroll:{x:1500,y:300},rowKey:e=>e.id,loading:n,pagination:{pageSize:t,current:e,total:o,onChange(e,t){console.log(e,t),j(e,t)}},columns:x,dataSource:l})]})}},936:function(e,t,n){var i=n(6076),a=n(340),r=n(6375),s=n(5145),o=function(e,t){return a.createElement(s.Z,(0,i.Z)({},e,{ref:t,icon:r.Z}))};t.Z=a.forwardRef(o)},1377:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(6076),a=n(340),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},s=n(5145),o=function(e,t){return a.createElement(s.Z,(0,i.Z)({},e,{ref:t,icon:r}))};var l=a.forwardRef(o)},5166:function(e,t,n){var i=n(8672);t.Z=i.Z}}]);
//# sourceMappingURL=82.67ab0f79.chunk.js.map