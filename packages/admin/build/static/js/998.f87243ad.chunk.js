"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[998],{7998:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var i=n(4574),l=n(340),o=n(2466),r=n(2501),a=n(7801),d=n(9108),s=n(4640),c=n(9334),m=n(3018);var u=()=>{const[e]=(0,d.o)(),{setAddModalShowAct:t,deleteAct:n,queryAct:i,setIsDetailAct:l,dataList:r,formVersion:u}=e;return(0,o.Gm)((()=>[{title:"id",dataIndex:"id",key:"id",fieldConfig:{isSearch:!1,formOptions:{label:"id",name:"id",hidden:!0,rules:[{required:!0}]}},render:(e,t)=>(0,m.jsx)("a",{onClick:()=>{a.Z.confirm({icon:null,content:(0,m.jsxs)(s.Z,{title:"deal detail",column:1,children:[(0,m.jsx)(s.Z.Item,{label:"id",children:t.id}),(0,m.jsx)(s.Z.Item,{label:"content",children:t.content})]})})},children:t.id})},{title:"user_id",dataIndex:"user_id",key:"user_id",fieldConfig:{formOptions:{hidden:!0,label:"user_id",name:"user_id",rules:[{required:!0}]}}},{title:"user_name",dataIndex:"user_name",key:"user_name"},{title:"deal_id",dataIndex:"deal_id",key:"deal_id",fieldConfig:{isSearch:!0,formOptions:{label:"deal_id",name:"deal_id",hidden:!0}}},{title:"deal_name",dataIndex:"deal_name",key:"deal_name"},{title:"content",dataIndex:"content",key:"content",fieldConfig:{isSearch:!1,formOptions:{label:"content",name:"content",rules:[{required:!0}]}},render:(e,t)=>(0,m.jsx)("div",{style:{maxWidth:250,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.content})},{title:"action",key:"action",render:(e,l)=>(0,m.jsxs)(c.Z,{size:"middle",children:[(0,m.jsx)("a",{onClick:()=>{t(!0,l)},children:"edit"}),(0,m.jsx)("a",{onClick:()=>{a.Z.confirm({content:"are you sure?",onOk:async()=>{await n({id:l.id}),i()}})},children:"delete"})]})}]),[r,u])};var p=()=>{const[e]=r.Z.useForm(),{setAddModalShowAct:t,addAct:n,updateAct:i,queryAct:s,recordData:c,isShowAddModal:p,isDetail:f}=(0,d.o)()[0],{formList:h}=u(),g=(0,o.uA)(h,{formIns:e,isJustShow:f});(0,l.useEffect)((()=>{c&&e.setFieldsValue(c)}),[c]);let Z=f?{footer:[]}:{};return(0,m.jsx)(a.Z,{open:p,title:"add",...Z,onCancel:()=>{e.resetFields(),t(!1)},onOk:()=>{e.validateFields().then((async l=>{let o=c?i:n;await o(l),t(!1),e.resetFields(),s()})).catch((e=>{console.log("Validate Failed:",e)}))},children:(0,m.jsx)(r.Z,{form:e,onFieldsChange:(e,t)=>{},children:g})})},f=n(1377),h=n(936),g=n(5166),Z=n(9473),x=n(8e3);const b=()=>{const{searchList:e}=u(),[t,n]=(0,l.useState)(!1);const i=(0,o.Wc)(e,{count:4}),[a]=r.Z.useForm(),{queryAct:s,pageSize:c}=(0,d.o)()[0];return(0,m.jsxs)(r.Z,{form:a,name:"advanced_search",className:"ant-advanced-search-form",onFinish:e=>{console.log("Received values of form: ",e)},children:[(0,m.jsx)(g.Z,{gutter:24,children:t?i:i.slice(0,4)}),(0,m.jsx)(g.Z,{children:(0,m.jsxs)(Z.Z,{span:24,style:{textAlign:"right"},children:[(0,m.jsx)(x.Z,{onClick:()=>{s({...a.getFieldsValue(),page:1,page_size:c})},type:"primary",htmlType:"submit",children:"Search"}),(0,m.jsx)(x.Z,{style:{margin:"0 8px"},onClick:()=>{a.resetFields()},children:"Clear"}),(0,m.jsxs)("a",{style:{fontSize:12},onClick:()=>{n(!t)},children:[t?(0,m.jsx)(f.Z,{}):(0,m.jsx)(h.Z,{})," Collapse"]})]})})]})};var y=e=>(0,m.jsx)("div",{style:{marginBottom:"32px"},children:(0,m.jsx)(b,{})}),v={container:"style_container__eEozc"};var S=()=>{const{pageNum:e,pageSize:t,loading:n,total:o,dataList:r,queryAct:a,setAddModalShowAct:s}=(0,d.o)()[0],{columns:c}=u();(0,l.useEffect)((()=>{f(e,t)}),[]);const f=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;await a({page:e,page_size:t})};return(0,m.jsxs)("div",{className:v.content,children:[(0,m.jsx)(y,{}),(0,m.jsx)(p,{}),(0,m.jsx)(i.Z,{rowKey:e=>e.id,loading:n,pagination:{pageSize:t,current:e,total:o,onChange(e,t){console.log(e,t),f(e,t)}},columns:c,dataSource:r})]})}},936:function(e,t,n){var i=n(6076),l=n(340),o=n(6375),r=n(5145),a=function(e,t){return l.createElement(r.Z,(0,i.Z)({},e,{ref:t,icon:o.Z}))};t.Z=l.forwardRef(a)},1377:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(6076),l=n(340),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},r=n(5145),a=function(e,t){return l.createElement(r.Z,(0,i.Z)({},e,{ref:t,icon:o}))};var d=l.forwardRef(a)},4640:function(e,t,n){n.d(t,{K:function(){return C},Z:function(){return I}});var i=n(8260),l=n(1234),o=n(9338),r=n(1347),a=n.n(r),d=n(7649),s=n(340),c=n(602),m=n(7434),u=n(7719),p=function(e){return e.children},f=n(6076);function h(e){return void 0!==e&&null!==e}var g=function(e){var t,n=e.itemPrefixCls,l=e.component,o=e.span,r=e.className,d=e.style,c=e.labelStyle,m=e.contentStyle,u=e.bordered,p=e.label,f=e.content,g=e.colon,Z=l;return u?s.createElement(Z,{className:a()((t={},(0,i.Z)(t,n+"-item-label",h(p)),(0,i.Z)(t,n+"-item-content",h(f)),t),r),style:d,colSpan:o},h(p)&&s.createElement("span",{style:c},p),h(f)&&s.createElement("span",{style:m},f)):s.createElement(Z,{className:a()(n+"-item",r),style:d,colSpan:o},s.createElement("div",{className:n+"-item-container"},(p||0===p)&&s.createElement("span",{className:a()(n+"-item-label",(0,i.Z)({},n+"-item-no-colon",!g)),style:c},p),(f||0===f)&&s.createElement("span",{className:a()(n+"-item-content"),style:m},f)))};function Z(e,t,n){var i=t.colon,l=t.prefixCls,o=t.bordered,r=n.component,a=n.type,d=n.showLabel,c=n.showContent,m=n.labelStyle,u=n.contentStyle;return e.map((function(e,t){var n=e.props,p=n.label,h=n.children,Z=n.prefixCls,x=void 0===Z?l:Z,b=n.className,y=n.style,v=n.labelStyle,S=n.contentStyle,w=n.span,C=void 0===w?1:w,E=e.key;return"string"===typeof r?s.createElement(g,{key:a+"-"+(E||t),className:b,style:y,labelStyle:(0,f.Z)((0,f.Z)({},m),v),contentStyle:(0,f.Z)((0,f.Z)({},u),S),span:C,colon:i,component:r,itemPrefixCls:x,bordered:o,label:d?p:null,content:c?h:null}):[s.createElement(g,{key:"label-"+(E||t),className:b,style:(0,f.Z)((0,f.Z)((0,f.Z)({},m),y),v),span:1,colon:i,component:r[0],itemPrefixCls:x,bordered:o,label:p}),s.createElement(g,{key:"content-"+(E||t),className:b,style:(0,f.Z)((0,f.Z)((0,f.Z)({},u),y),S),span:2*C-1,component:r[1],itemPrefixCls:x,bordered:o,content:h})]}))}var x=function(e){var t=s.useContext(C),n=e.prefixCls,i=e.vertical,l=e.row,o=e.index,r=e.bordered;return i?s.createElement(s.Fragment,null,s.createElement("tr",{key:"label-"+o,className:n+"-row"},Z(l,e,(0,f.Z)({component:"th",type:"label",showLabel:!0},t))),s.createElement("tr",{key:"content-"+o,className:n+"-row"},Z(l,e,(0,f.Z)({component:"td",type:"content",showContent:!0},t)))):s.createElement("tr",{key:o,className:n+"-row"},Z(l,e,(0,f.Z)({component:r?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))},b=n(9439),y=n(977),v=n(6038),S=function(e){var t,n,l=e.componentCls,o=e.descriptionsExtraColor,r=e.descriptionItemPaddingBottom,a=e.descriptionsItemLabelColonMarginRight,d=e.descriptionsItemLabelColonMarginLeft,s=e.descriptionsTitleMarginBottom;return(0,i.Z)({},l,(0,f.Z)((0,f.Z)((0,f.Z)({},(0,v.Wf)(e)),function(e){var t,n=e.componentCls,l=e.descriptionsSmallPadding,o=e.descriptionsDefaultPadding,r=e.descriptionsMiddlePadding,a=e.descriptionsBg;return(0,i.Z)({},"&"+n+"-bordered",(t={},(0,i.Z)(t,n+"-view",{border:e.lineWidth+"px "+e.lineType+" "+e.colorSplit,"> table":{tableLayout:"auto",borderCollapse:"collapse"}}),(0,i.Z)(t,n+"-item-label, "+n+"-item-content",{padding:o,borderInlineEnd:e.lineWidth+"px "+e.lineType+" "+e.colorSplit,"&:last-child":{borderInlineEnd:"none"}}),(0,i.Z)(t,n+"-item-label",{backgroundColor:a,"&::after":{display:"none"}}),(0,i.Z)(t,n+"-row",{borderBottom:e.lineWidth+"px "+e.lineType+" "+e.colorSplit,"&:last-child":{borderBottom:"none"}}),(0,i.Z)(t,"&"+n+"-middle",(0,i.Z)({},n+"-item-label, "+n+"-item-content",{padding:r})),(0,i.Z)(t,"&"+n+"-small",(0,i.Z)({},n+"-item-label, "+n+"-item-content",{padding:l})),t))}(e)),(n={},(0,i.Z)(n,"&-rtl",{direction:"rtl"}),(0,i.Z)(n,l+"-header",{display:"flex",alignItems:"center",marginBottom:s}),(0,i.Z)(n,l+"-title",(0,f.Z)((0,f.Z)({},v.vS),{flex:"auto",color:e.colorText,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG})),(0,i.Z)(n,l+"-extra",{marginInlineStart:"auto",color:o,fontSize:e.fontSize}),(0,i.Z)(n,l+"-view",{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed"}}),(0,i.Z)(n,l+"-row",{"> th, > td":{paddingBottom:r},"&:last-child":{borderBottom:"none"}}),(0,i.Z)(n,l+"-item-label",(0,i.Z)({color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:d+"px "+a+"px"}},"&"+l+"-item-no-colon::after",{content:'""'})),(0,i.Z)(n,l+"-item-no-label",{"&::after":{margin:0,content:'""'}}),(0,i.Z)(n,l+"-item-content",{display:"table-cell",flex:1,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"}),(0,i.Z)(n,l+"-item",{paddingBottom:0,verticalAlign:"top","&-container":(t={display:"flex"},(0,i.Z)(t,l+"-item-label",{display:"inline-flex",alignItems:"baseline"}),(0,i.Z)(t,l+"-item-content",{display:"inline-flex",alignItems:"baseline"}),t)}),(0,i.Z)(n,"&-middle",(0,i.Z)({},l+"-row",{"> th, > td":{paddingBottom:e.paddingSM}})),(0,i.Z)(n,"&-small",(0,i.Z)({},l+"-row",{"> th, > td":{paddingBottom:e.paddingXS}})),n)))},w=(0,b.Z)("Descriptions",(function(e){var t=e.colorFillAlter,n=e.fontSizeSM*e.lineHeightSM,i=e.colorText,l=e.paddingXS+"px "+e.padding+"px",o=e.padding+"px "+e.paddingLG+"px",r=e.paddingSM+"px "+e.paddingLG+"px",a=e.padding,d=e.marginXS,s=e.marginXXS/2,c=(0,y.TS)(e,{descriptionsBg:t,descriptionsTitleMarginBottom:n,descriptionsExtraColor:i,descriptionItemPaddingBottom:a,descriptionsSmallPadding:l,descriptionsDefaultPadding:o,descriptionsMiddlePadding:r,descriptionsItemLabelColonMarginRight:d,descriptionsItemLabelColonMarginLeft:s});return[S(c)]})),C=s.createContext({}),E={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function k(e,t,n){var i=e;return(void 0===t||t>n)&&(i=(0,m.Tm)(e,{span:n})),i}function j(e){var t,n=e.prefixCls,r=e.title,m=e.extra,p=e.column,f=void 0===p?E:p,h=e.colon,g=void 0===h||h,Z=e.bordered,b=e.layout,y=e.children,v=e.className,S=e.style,j=e.size,I=e.labelStyle,L=e.contentStyle,_=s.useContext(c.E_),N=_.getPrefixCls,A=_.direction,z=N("descriptions",n),M=s.useState({}),B=(0,l.Z)(M,2),P=B[0],F=B[1],T=function(e,t){if("number"===typeof e)return e;if("object"===(0,o.Z)(e))for(var n=0;n<u.c4.length;n++){var i=u.c4[n];if(t[i]&&void 0!==e[i])return e[i]||E[i]}return 3}(f,P),W=w(z),q=(0,l.Z)(W,2),H=q[0],O=q[1];s.useEffect((function(){var e=u.ZP.subscribe((function(e){"object"===(0,o.Z)(f)&&F(e)}));return function(){u.ZP.unsubscribe(e)}}),[]);var R=function(e,t){var n=(0,d.Z)(e).filter((function(e){return e})),i=[],l=[],o=t;return n.forEach((function(e,r){var a,d=null===(a=e.props)||void 0===a?void 0:a.span,s=d||1;if(r===n.length-1)return l.push(k(e,d,o)),void i.push(l);s<o?(o-=s,l.push(e)):(l.push(k(e,s,o)),i.push(l),o=t,l=[])})),i}(y,T),D=s.useMemo((function(){return{labelStyle:I,contentStyle:L}}),[I,L]);return H(s.createElement(C.Provider,{value:D},s.createElement("div",{className:a()(z,(t={},(0,i.Z)(t,z+"-"+j,j&&"default"!==j),(0,i.Z)(t,z+"-bordered",!!Z),(0,i.Z)(t,z+"-rtl","rtl"===A),t),v,O),style:S},(r||m)&&s.createElement("div",{className:z+"-header"},r&&s.createElement("div",{className:z+"-title"},r),m&&s.createElement("div",{className:z+"-extra"},m)),s.createElement("div",{className:z+"-view"},s.createElement("table",null,s.createElement("tbody",null,R.map((function(e,t){return s.createElement(x,{key:t,index:t,colon:g,prefixCls:z,vertical:"vertical"===b,bordered:Z,row:e})}))))))))}j.Item=p;var I=j},5166:function(e,t,n){var i=n(8672);t.Z=i.Z}}]);
//# sourceMappingURL=998.f87243ad.chunk.js.map