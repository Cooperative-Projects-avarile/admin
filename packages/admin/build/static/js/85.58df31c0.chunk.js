"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[85],{9085:function(e,t,n){n.r(t),n.d(t,{default:function(){return A}});var i=n(8e3),o=n(4574),a=n(340),l=n(2466),r=n(2501),s=n(7801),c=n(9329),d=n(1293),u=n(9334),f=n(3018);var p=()=>{const{setAddModalShowAct:e,deleteAct:t,queryAct:n}=(0,c.o)()[0],{dataList:i,queryAct:o}=(0,l.dy)("opportunityPageStore")[0],{dataList:r,queryAct:p}=(0,l.dy)("usersPageStore")[0];return(0,a.useEffect)((()=>{null!==i&&void 0!==i&&i.length||o(),null!==r&&void 0!==r&&r.length||p()}),[]),(0,l.Gm)((()=>[(0,d.fB)("postcode",{fieldConfig:{scope:["modal"]}}),(0,d.fB)("company"),(0,d.fB)("title"),(0,d.fB)("content"),(0,d.fB)("email",{fieldConfig:{formOptions:{rules:[{type:"email"}]}}}),(0,d.fB)("mobile"),(0,d.fB)("user_id",{fieldConfig:{inputType:"Select",options:()=>r.map((e=>({label:e.email,value:e.id,key:e.id})))}}),{title:"opportunity_id",dataIndex:"opportunity_id",key:"opportunity_id",fieldConfig:{inputType:"Select",options:()=>i.map((e=>({label:e.title,value:e.id,key:e.id}))),formOptions:{rules:[{required:!0}],label:"opportunity_id",name:"opportunity_id"}}},{title:"action",key:"action",render:(i,o)=>(0,f.jsxs)(u.Z,{size:"middle",children:[(0,f.jsx)("a",{onClick:()=>{e(!0,o)},children:"edit"}),(0,f.jsx)("a",{onClick:()=>{s.Z.confirm({content:"are you sure?",onOk:async()=>{await t({id:o.id}),n()}})},children:"delete"})]})}]),[i,r])};var h=()=>{const[e]=r.Z.useForm(),{setAddModalShowAct:t,addAct:n,updateAct:i,queryAct:o,recordData:d,isShowAddModal:u,isDetail:h}=(0,c.o)()[0],{formList:m}=p(),y=(0,l.uA)(m,{formIns:e,isJustShow:h});(0,a.useEffect)((()=>{d&&e.setFieldsValue(d)}),[d]);let g=h?{footer:[]}:{};return(0,f.jsx)(s.Z,{open:u,title:"add",...g,onCancel:()=>{e.resetFields(),t(!1)},onOk:()=>{e.validateFields().then((async a=>{let l=d?i:n;await l(a),t(!1),e.resetFields(),o()})).catch((e=>{console.log("Validate Failed:",e)}))},children:(0,f.jsx)(r.Z,{form:e,children:y})})},m=n(1377),y=n(936),g=n(5166),x=n(9473);const Z=()=>{const{searchList:e}=p(),[t,n]=(0,a.useState)(!1);const o=(0,l.Wc)(e,{count:4}),[s]=r.Z.useForm(),{queryAct:d,pageSize:u}=(0,c.o)()[0];return(0,f.jsxs)(r.Z,{form:s,name:"advanced_search",className:"ant-advanced-search-form",onFinish:e=>{console.log("Received values of form: ",e)},children:[(0,f.jsx)(g.Z,{gutter:24,children:t?o:o.slice(0,4)}),(0,f.jsx)(g.Z,{children:(0,f.jsxs)(x.Z,{span:24,style:{textAlign:"right"},children:[(0,f.jsx)(i.Z,{onClick:()=>{d({...s.getFieldsValue(),page:1,page_size:u})},type:"primary",htmlType:"submit",children:"Search"}),(0,f.jsx)(i.Z,{style:{margin:"0 8px"},onClick:()=>{s.resetFields()},children:"Clear"}),(0,f.jsxs)("a",{style:{fontSize:12},onClick:()=>{n(!t)},children:[t?(0,f.jsx)(m.Z,{}):(0,f.jsx)(y.Z,{})," Collapse"]})]})})]})};var v=e=>(0,f.jsx)("div",{style:{marginBottom:"32px"},children:(0,f.jsx)(Z,{})}),j={container:"style_container__k3twk"};var A=()=>{const{pageNum:e,pageSize:t,loading:n,total:l,dataList:r,queryAct:s,setAddModalShowAct:d}=(0,c.o)()[0],{columns:u}=p();(0,a.useEffect)((()=>{m(e,t)}),[]);const m=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;await s({page:e,page_size:t})};return(0,f.jsxs)("div",{className:j.content,children:[(0,f.jsx)(v,{}),(0,f.jsx)(i.Z,{type:"primary",onClick:()=>{d(!0)},style:{marginBottom:12},children:"+ add"}),(0,f.jsx)(h,{}),(0,f.jsx)(o.Z,{scroll:{x:1500,y:300},rowKey:e=>e.id,loading:n,pagination:{pageSize:t,current:e,total:l,onChange(e,t){console.log(e,t),m(e,t)}},columns:u,dataSource:r})]})}},936:function(e,t,n){var i=n(6076),o=n(340),a=n(6375),l=n(5145),r=function(e,t){return o.createElement(l.Z,(0,i.Z)({},e,{ref:t,icon:a.Z}))};t.Z=o.forwardRef(r)},1377:function(e,t,n){n.d(t,{Z:function(){return s}});var i=n(6076),o=n(340),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},l=n(5145),r=function(e,t){return o.createElement(l.Z,(0,i.Z)({},e,{ref:t,icon:a}))};var s=o.forwardRef(r)},5166:function(e,t,n){var i=n(8672);t.Z=i.Z}}]);
//# sourceMappingURL=85.58df31c0.chunk.js.map