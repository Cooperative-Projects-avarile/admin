{"version":3,"file":"static/js/454.ff11dde9.chunk.js","mappings":"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","sources":["webpack://web/./src/common/components/animateText/animateText.module.scss?6e09","common/components/animateText/animateText.tsx","common/components/uoloadNormal/uploadNormal.tsx","common/hocs/formItemHoc/formItemHoc.tsx","pages/homePage/permissionPage/components/dropUpload/dropUpload.tsx","pages/homePage/permissionPage/components/modalForm/modalForm.tsx","pages/homePage/permissionPage/permissionPage.module.scss","pages/homePage/permissionPage/permissionPage.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"content\":\"animateText_content__m5kUN\",\"container\":\"animateText_container__AIsE0\"};","import { useRef } from \"react\";\nimport { useEffect } from \"react\";\nimport styles from \"./animateText.module.scss\";\n\nlet defaultRun: boolean = true;\nlet infinite: boolean = true;\nlet frameTime: number = 75;\nlet endWaitStep = 3;\nlet prefixString = \"\";\nlet runTexts = [\"\"];\nlet colorTextLength = 5;\nlet step = 1;\nlet colors = [\n  \"rgb(110,64,170)\",\n  \"rgb(150,61,179)\",\n  \"rgb(191,60,175)\",\n  \"rgb(228,65,157)\",\n  \"rgb(254,75,131)\",\n  \"rgb(255,94,99)\",\n  \"rgb(255,120,71)\",\n  \"rgb(251,150,51)\",\n  \"rgb(226,183,47)\",\n  \"rgb(198,214,60)\",\n  \"rgb(175,240,91)\",\n  \"rgb(127,246,88)\",\n  \"rgb(82,246,103)\",\n  \"rgb(48,239,130)\",\n  \"rgb(29,223,163)\",\n  \"rgb(26,199,194)\",\n  \"rgb(35,171,216)\",\n  \"rgb(54,140,225)\",\n  \"rgb(76,110,219)\",\n  \"rgb(96,84,200)\",\n];\nlet inst = {\n  text: \"\",\n  prefix: -(prefixString.length + colorTextLength),\n  skillI: 0,\n  skillP: 0,\n  step: step,\n  direction: \"forward\",\n  delay: endWaitStep,\n};\n\nfunction randomNum(minNum: number, maxNum: number): number {\n  switch (arguments.length) {\n    case 1:\n      return parseInt((Math.random() * minNum + 1).toString(), 10);\n    case 2:\n      return parseInt(\n        (Math.random() * (maxNum - minNum + 1) + minNum).toString(),\n        10\n      );\n    default:\n      return 0;\n  }\n}\nlet randomTime: number = randomNum(15, 150);\nlet destroyed: boolean = false;\nlet continue2: boolean = false;\nlet infinite0: boolean = true;\n\nfunction render(dom: HTMLDivElement, t: string, ut?: string): void {\n  if (inst.step) {\n    inst.step--;\n  } else {\n    inst.step = step;\n    if (inst.prefix < prefixString.length) {\n      inst.prefix >= 0 && (inst.text += prefixString[inst.prefix]);\n      inst.prefix++;\n    } else {\n      switch (inst.direction) {\n        case \"forward\":\n          if (inst.skillP < t.length) {\n            inst.text += t[inst.skillP];\n            inst.skillP++;\n          } else {\n            if (inst.delay) {\n              inst.delay--;\n            } else {\n              inst.direction = \"backward\";\n              inst.delay = endWaitStep;\n            }\n          }\n          break;\n        case \"backward\":\n          if (inst.skillP > 0) {\n            inst.text = inst.text.slice(0, -1);\n            inst.skillP--;\n          } else {\n            inst.skillI = (inst.skillI + 1) % runTexts.length;\n            inst.direction = \"forward\";\n          }\n          break;\n        default:\n          break;\n      }\n    }\n  }\n  if (ut != null) {\n    inst.text = ut.substring(0, inst.skillP);\n    if (inst.skillP > ut.length) {\n      inst.skillP = ut.length;\n    }\n  }\n  dom.textContent = inst.text;\n  let value;\n  if (inst.prefix < prefixString.length) {\n    value = Math.min(colorTextLength, colorTextLength + inst.prefix);\n  } else {\n    value = Math.min(colorTextLength, t.length - inst.skillP);\n  }\n  dom.appendChild(fragment(value));\n}\n\nfunction getNextColor(): string {\n  return colors[Math.floor(Math.random() * colors.length)];\n}\n\nfunction getNextChar(): string {\n  return String.fromCharCode(94 * Math.random() + 33);\n}\nfunction fragment(value: number): DocumentFragment {\n  let f = document.createDocumentFragment();\n  for (let i = 0; value > i; i++) {\n    let span = document.createElement(\"span\");\n    span.textContent = getNextChar();\n    span.style.color = getNextColor();\n    f.appendChild(span);\n  }\n  return f;\n}\nconst AnimateTest = (props) => {\n  const { texts } = props;\n  let container = useRef();\n  let container2 = useRef();\n  function init(): void {\n    setTimeout(() => {\n      if (destroyed) {\n        return;\n      }\n      container.current && loop();\n    }, randomTime);\n  }\n  function loop(): void {\n    if (destroyed) {\n      return;\n    }\n    setTimeout(() => {\n      if (continue2 && container.current != null) {\n        if (destroyed) {\n          return;\n        }\n        let dom = container.current;\n        let index = inst.skillI;\n        let originText = texts[index];\n        let currentText = runTexts[index];\n        if (originText !== currentText) {\n          render(dom, currentText, originText);\n          runTexts[index] = originText;\n        } else {\n          render(dom, currentText);\n        }\n      }\n      if (infinite0) {\n        loop();\n      } else {\n        if (inst.skillP < runTexts[0].length) {\n          loop();\n        }\n      }\n    }, frameTime);\n  }\n  useEffect(() => {\n   {\n      runTexts = texts;\n      continue2 = defaultRun;\n      infinite0 = infinite;\n      inst.delay = endWaitStep;\n      if (!infinite0) {\n        if (runTexts.length > 1) {\n          console.warn(\n            \"在设置infinite=false的情况下，仅第一个字符串生效，后续字符串不再显示。\"\n          );\n        }\n      }\n      init();\n    }\n  }, []);\n  return (\n    <div className={styles.content}>\n      <pre ref={container} className={styles.container} id=\"container\"></pre>\n      <pre ref={container2}></pre>\n    </div>\n  );\n};\n\nexport default AnimateTest;\n","import FormItemHoc, {\n  type FormItemHocProps,\n} from \"@/common/hocs/formItemHoc/formItemHoc\";\nimport { Upload, UploadProps, message } from \"antd\";\n\nconst UploadNor = ({\n  options,\n  ...rest\n}: FormItemHocProps & { options: UploadProps }) => {\n  return (\n    <FormItemHoc valuePropName=\"fileList\" {...rest}>\n      <Upload\n        listType=\"picture-card\"\n        data={{\n          token: sessionStorage.getItem(\"QINIU_TOKEN\"),\n          key: \"img/\" + new Date().getTime(),\n        }}\n        onChange={(info) => {\n          if (info.file.status === \"done\") {\n            message.success(`${info.file.name} file uploaded successfully`);\n          } else if (info.file.status === \"error\") {\n            message.error(`${info.file.name} file upload failed.`);\n          }\n        }}\n        action={\"https://upload-z2.qiniup.com\"}\n       {...options}\n      >\n        <div>\n          <div style={{ marginTop: 8 }}>上传</div>\n        </div>\n      </Upload>\n    </FormItemHoc>\n  );\n};\nexport default UploadNor;\n","import { Form, FormItemProps } from \"antd\";\n\nexport type FormItemHocProps = FormItemProps & {\n  isForm?: boolean;\n  Comp?: React.FC<any>;\n};\n\nconst FromItemHoc = ({\n  Comp,\n  rules,\n  isForm = true,\n  children,\n  ...rest\n}: FormItemHocProps) => {\n  let temp = {...rest};\n  \n  return (\n    <>\n      {isForm ? (\n        <Form.Item\n          rules={\n            rules || [\n              {\n                required: true,\n                message: \"不可为空!\",\n              },\n            ]\n          }\n          {...temp}\n        >\n         {children}\n        </Form.Item>\n      ) : (\n        <Comp />\n      )}\n    </>\n  );\n};\n\nexport default FromItemHoc;\n","import { InboxOutlined } from \"@ant-design/icons\";\nimport type { UploadProps } from \"antd\";\nimport { Upload } from \"antd\";\n\nconst { Dragger } = Upload;\n\nconst DropUpload = (props: {\n  handleUploadMd: (mdStr: string) => void;\n}) => {\n  const { handleUploadMd } = props;\n  const uploadProps: UploadProps = {\n    beforeUpload: (file) => {\n        const reader = new FileReader();\n        reader.readAsText(file);\n        reader.onload = function (e) {\n            handleUploadMd(e.target.result as string)\n        };\n        return false;\n    },\n    name: \"file\",\n    multiple: true,\n    showUploadList:false,\n  };\n  return (\n    <Dragger {...uploadProps}>\n      <p className=\"ant-upload-drag-icon\">\n        <InboxOutlined />\n      </p>\n      <p className=\"ant-upload-text\">点击或者拖拽上传</p>\n      <p className=\"ant-upload-hint\">\n        支持单个或批量上传。严禁上传公司数据或其他带有版权的文件\n      </p>\n    </Dragger>\n  );\n};\n\nexport default DropUpload;\n","import { UploadNormal } from \"@/common/components\";\nimport { useInject } from \"@/common/hooks\";\nimport { Button, Form, Image, Input, Modal, Radio, Select } from \"antd\";\nimport { useState } from \"react\";\nimport DropUpload from \"../dropUpload/dropUpload\";\n\ninterface Values {\n\ttitle: string;\n\tdescription: string;\n\tmodifier: string;\n}\n\ninterface CollectionCreateFormProps {\n\topen: boolean;\n\tonCreate: (values: Values) => void;\n\tonCancel: () => void;\n}\nconst normFile = (e: any) => {\n\tif (Array.isArray(e)) {\n\t\treturn e;\n\t}\n\tif (e?.fileList.response) {\n\t}\n\treturn e?.fileList[0].response\n\t\t? e?.fileList.map((item) => {\n\t\t\t\treturn item.response.hash;\n\t\t  })\n\t\t: e?.fileList;\n};\n\nconst CollectionCreateForm: React.FC<CollectionCreateFormProps> = ({\n\topen,\n\tonCreate,\n\tonCancel,\n}) => {\n\t// 引入natur的articleStore\n\tconst [articleStore] = useInject(\"articleStore\");\n\tconst { articleTypeList } = articleStore.state;\n\tconst [form] = Form.useForm();\n\tconst [isUploadMd, setIsUpload] = useState(false);\n\treturn (\n\t\t<Modal\n\t\t\topen={open}\n\t\t\ttitle=\"新建文章\"\n\t\t\tokText=\"确定\"\n\t\t\tcancelText=\"取消\"\n\t\t\tonCancel={() => {\n\t\t\t\tform.resetFields();\n\t\t\t\tonCancel();\n\t\t\t}}\n\t\t\tonOk={() => {\n\t\t\t\tform.validateFields()\n\t\t\t\t\t.then((values) => {\n\t\t\t\t\t\tform.resetFields();\n\t\t\t\t\t\tonCreate(values);\n\t\t\t\t\t})\n\t\t\t\t\t.catch((info) => {\n\t\t\t\t\t\tconsole.log(\"Validate Failed:\", info);\n\t\t\t\t\t});\n\t\t\t}}\n\t\t>\n\t\t\t<Form\n\t\t\t\tform={form}\n\t\t\t\tlayout=\"vertical\"\n\t\t\t\tname=\"form_in_modal\"\n\t\t\t\tinitialValues={{ modifier: \"public\" }}\n\t\t\t>\n\t\t\t\t<Form.Item\n\t\t\t\t\tname=\"title\"\n\t\t\t\t\tlabel=\"文章标题\"\n\t\t\t\t\trules={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tmessage: \"请输入!\",\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t<Input />\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item\n\t\t\t\t\tname=\"subTitle\"\n\t\t\t\t\trules={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tmessage: \"请输入!\",\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t\tlabel=\"副标题\"\n\t\t\t\t>\n\t\t\t\t\t<Input type=\"textarea\" />\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item\n\t\t\t\t\trules={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tmessage: \"请输入!\",\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t\tname={\"courseTypeList\"}\n\t\t\t\t\tlabel={\"分类\"}\n\t\t\t\t\tvaluePropName=\"number\"\n\t\t\t\t>\n\t\t\t\t\t<Select mode=\"tags\">\n\t\t\t\t\t\t{articleTypeList.map((item) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Select.Option\n\t\t\t\t\t\t\t\t\tkey={item.id}\n\t\t\t\t\t\t\t\t\tvalue={String(item.id)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{item.name}\n\t\t\t\t\t\t\t\t</Select.Option>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Select>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item\n\t\t\t\t\trequired={true}\n\t\t\t\t\tlabel={\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t正文\n\t\t\t\t\t\t\t<Radio.Group\n\t\t\t\t\t\t\t\tdefaultValue={isUploadMd ? \"1\" : \"2\"}\n\t\t\t\t\t\t\t\tvalue={isUploadMd ? \"1\" : \"2\"}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetIsUpload(e.target.value === \"1\");\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tstyle={{ marginLeft: \"12px\" }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Radio value=\"1\">上传md文件</Radio>\n\t\t\t\t\t\t\t\t<Radio value=\"2\">粘贴文本</Radio>\n\t\t\t\t\t\t\t</Radio.Group>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t{!isUploadMd && (\n\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\tname=\"content\"\n\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\tmessage: \"请输入正文!\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Input.TextArea\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tminHeight: \"200px\",\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></Input.TextArea>\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t)}\n\t\t\t\t\t{isUploadMd && (\n\t\t\t\t\t\t<Form.Item>\n\t\t\t\t\t\t\t<DropUpload\n\t\t\t\t\t\t\t\thandleUploadMd={(str: string) => {\n\t\t\t\t\t\t\t\t\tform.setFieldValue(\"content\", str);\n\t\t\t\t\t\t\t\t\tsetIsUpload(false);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></DropUpload>\n\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t)}\n\t\t\t\t</Form.Item>\n\t\t\t\t<UploadNormal\n\t\t\t\t\toptions={{\n\t\t\t\t\t\tmaxCount: 1,\n\t\t\t\t\t\titemRender: (originNode, file, fileList) => {\n\t\t\t\t\t\t\treturn fileList[0] ? (\n\t\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\t\twidth={100}\n\t\t\t\t\t\t\t\t\theight={100}\n\t\t\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t\t\t\"https://qiniu.moderate.run/\" +\n\t\t\t\t\t\t\t\t\t\tfileList[0]\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\"\"\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t\tname={\"cover\"}\n\t\t\t\t\tlabel={\"封面\"}\n\t\t\t\t\tgetValueFromEvent={normFile}\n\t\t\t\t/>\n\t\t\t</Form>\n\t\t</Modal>\n\t);\n};\n\nconst ModalForm = ({\n\thandleUpload,\n}: {\n\thandleUpload: (values: any) => void;\n}) => {\n\tconst [open, setOpen] = useState(false);\n\n\tconst onCreate = (values: any) => {\n\t\thandleUpload(values);\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<span\n\t\t\tstyle={{\n\t\t\t\tmarginRight: \"12px\",\n\t\t\t}}\n\t\t>\n\t\t\t<Button\n\t\t\t\ttype=\"primary\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\tsetOpen(true);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t+ 新增文章\n\t\t\t</Button>\n\t\t\t<CollectionCreateForm\n\t\t\t\topen={open}\n\t\t\t\tonCreate={onCreate}\n\t\t\t\tonCancel={() => {\n\t\t\t\t\tsetOpen(false);\n\t\t\t\t}}\n\t\t\t/>\n\t\t</span>\n\t);\n};\n\nexport default ModalForm;\n","// extracted by mini-css-extract-plugin\nexport default {};","import { useFlatInject, useGreatAsync } from \"@/common/hooks\";\nimport type { PageType } from \"@/services/stores/devStore/devStore.model\";\nimport { Checkbox, Space, Table } from \"antd\";\nimport type { ColumnsType } from \"antd/es/table\";\nimport { useEffect } from \"react\";\nimport ModalForm from \"./components/modalForm/modalForm\";\nimport styles from \"./permissionPage.module.scss\";\n\n\nconst columns: ColumnsType<PageType> = [\n  {\n    title: \"页面名称\",\n    dataIndex: \"name\",\n    key: \"name\",\n  },\n  {\n    title: \"路径\",\n    dataIndex: \"path\",\n    key: \"path\",\n  },\n  {\n    title: \"可用\",\n    dataIndex: \"active\",\n    key: \"active\",\n    render: (_, record) => (\n      <Checkbox checked={record.active}></Checkbox>\n    ),\n  },\n  {\n    title: \"操作\",\n    key: \"action\",\n    render: (_, record) => (\n      <Space size=\"middle\">\n        <a>修改</a>\n      </Space>\n    ),\n  },\n];\n\nconst PermissionPage = () => {\n  const [devStore] = useFlatInject(\"devStore\");\n  const { pageNum, pageSize, total, pageList, createPageList } =\n    devStore;\n  const { loading: loading1, run: createArticleListG } = useGreatAsync(\n    createPageList,\n    {\n      auto: true,\n      debounceTime: 1000,\n    }\n  );\n\n  const handlePageChange = async (pageNum = 1, pageSize) => {\n    await createArticleListG();\n  };\n  const handleUpload = (values: any) => {};\n  useEffect(() => {\n    handlePageChange(pageNum, pageSize);\n  }, []);\n  return (\n    <div className={styles.content}>\n      <div className={styles.operate_board}>\n        <ModalForm handleUpload={handleUpload} />\n      </div>\n      <Table\n        rowKey={(record) => {\n          return record.id;\n        }}\n        loading={loading1}\n        pagination={{\n          pageSize,\n          current: pageNum,\n          total,\n          onChange(page, pageSize) {\n            console.log(page, pageSize);\n            handlePageChange(page, pageSize);\n          },\n        }}\n        columns={columns}\n        dataSource={pageList}\n      />\n    </div>\n  );\n};\n\nexport default PermissionPage;\n"],"names":["runTexts","colors","inst","text","prefix","skillI","skillP","step","direction","delay","randomTime","minNum","maxNum","arguments","length","parseInt","Math","random","toString","randomNum","destroyed","continue2","infinite0","render","dom","t","ut","prefixString","slice","value","substring","textContent","min","appendChild","f","document","createDocumentFragment","i","span","createElement","getNextChar","style","color","getNextColor","fragment","floor","String","fromCharCode","props","texts","container","useRef","container2","init","setTimeout","current","loop","index","originText","currentText","useEffect","console","warn","_jsxs","className","styles","children","_jsx","ref","id","_ref","options","rest","FormItemHoc","valuePropName","Upload","listType","data","token","sessionStorage","getItem","key","Date","getTime","onChange","info","file","status","message","concat","name","action","marginTop","Comp","rules","isForm","temp","_Fragment","Form","required","Dragger","handleUploadMd","uploadProps","beforeUpload","reader","FileReader","readAsText","onload","e","target","result","multiple","showUploadList","InboxOutlined","normFile","Array","isArray","fileList","response","map","item","hash","CollectionCreateForm","open","onCreate","onCancel","articleStore","useInject","articleTypeList","state","form","isUploadMd","setIsUpload","useState","Modal","title","okText","cancelText","resetFields","onOk","validateFields","then","values","catch","log","layout","initialValues","modifier","label","Input","type","Select","mode","Radio","defaultValue","marginLeft","minHeight","DropUpload","str","setFieldValue","UploadNormal","maxCount","itemRender","originNode","Image","width","height","src","getValueFromEvent","_ref2","handleUpload","setOpen","marginRight","Button","onClick","columns","dataIndex","_","record","Checkbox","checked","active","Space","size","PermissionPage","devStore","useFlatInject","pageNum","pageSize","total","pageList","createPageList","loading","loading1","run","createArticleListG","useGreatAsync","auto","debounceTime","handlePageChange","async","ModalForm","Table","rowKey","pagination","page","dataSource"],"sourceRoot":""}