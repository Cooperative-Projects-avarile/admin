"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[616],{616:function(e,t,a){a.r(t),a.d(t,{default:function(){return k}});var i=a(8e3),n=a(4574),o=a(340),r=a(2466),s=a(2501),l=a(7801),c=a(6870),d=a(1293),u=a(9334),p=a(3018);let f=["LOCAL","REGION","STATE","NATIONAL"],m=["pending","active","suspended","rejected"];var h=()=>{const{setAddModalShowAct:e,deleteAct:t,queryAct:a,recordData:i,isShowAddModal:n}=(0,c.o)()[0],{dataList:o}=(0,r.dy)("categoryPageStore")[0],{dataList:s}=(0,r.dy)("companyPageStore")[0];return(0,r.Gm)((()=>[(0,d.fB)("title"),{title:"status",dataIndex:"status",key:"status",fieldConfig:{isSearch:!0,inputType:"Select",options:m,scope:n&&i||!n?["table","modal","search"]:["table","search"],formOptions:{label:"status",name:"status",rules:[{required:!0}]}}},{title:"value_driven",dataIndex:"value_driven",key:"value_driven",fieldConfig:{isSearch:!0,inputType:"Switch",formOptions:{valuePropName:"checked",name:"value_driven",label:"value_driven",rules:[{required:!0}]}}},(0,d.vZ)("priority"),(0,d.vZ)("tier"),{title:"geo_scope",dataIndex:"geo_scope",key:"geo_scope",fieldConfig:{inputType:"Select",options:f,formOptions:{label:"geo_scope",name:"geo_scope",rules:[{required:!0}]},inputOptions:{allowClear:!0},isSearch:!0}},(0,d.fB)("postcode"),(0,d.fB)("region"),(0,d.fB)("state"),(0,d.fB)("country"),(0,d.vZ)("marketPrice"),(0,d.vZ)("scalingPrice"),(0,d.fB)("scalingPriceDesc"),(0,d.vZ)("discount"),{title:"category_id",dataIndex:"category_id",key:"category_id",fieldConfig:{inputType:"Select",options:()=>o.filter((e=>e.parent_id)).map((e=>({key:e.id,value:e.id,label:e.name}))),formOptions:{rules:[{required:!0}],label:"category_id",name:"category_id"},inputOptions:{allowClear:!0},isSearch:!0}},{title:"company_id",dataIndex:"company_id",key:"company_id",fieldConfig:{inputType:"Select",options:()=>s.map((e=>({key:e.id,value:e.id,label:e.name}))),formOptions:{rules:[{required:!0}],label:"company_id",name:"company_id"},inputOptions:{allowClear:!0},isSearch:!0}},{title:"action",key:"action",render:(i,n)=>(0,p.jsxs)(u.Z,{size:"middle",children:[(0,p.jsx)("a",{onClick:()=>{e(!0,n)},children:"edit"}),(0,p.jsx)("a",{onClick:()=>{l.Z.confirm({content:"are you sure?",onOk:async()=>{await t({id:n.id}),a()}})},children:"delete"})]})}]),[i,n])};var y=()=>{const[e]=s.Z.useForm(),{setAddModalShowAct:t,addAct:a,updateAct:i,queryAct:n,recordData:d,isShowAddModal:u,isDetail:f}=(0,c.o)()[0],{formList:m}=h(),y=(0,r.uA)(m,{formIns:e,isJustShow:f});(0,o.useEffect)((()=>{d&&e.setFieldsValue(d)}),[d]);let g=f?{footer:[]}:{};return(0,p.jsx)(l.Z,{open:u,title:"add",...g,onCancel:()=>{e.resetFields(),t(!1)},onOk:()=>{e.validateFields().then((async o=>{let r=d?i:a;await r(o),t(!1),e.resetFields(),n()})).catch((e=>{console.log("Validate Failed:",e)}))},children:(0,p.jsx)(s.Z,{form:e,children:y})})},g=a(1377),v=a(936),x=a(5166),Z=a(9473);const _=()=>{const{searchList:e}=h(),[t,a]=(0,o.useState)(!1);const n=(0,r.Wc)(e,{count:4}),[l]=s.Z.useForm(),{queryAct:d,pageSize:u}=(0,c.o)()[0];return(0,p.jsxs)(s.Z,{form:l,name:"advanced_search",className:"ant-advanced-search-form",onFinish:e=>{console.log("Received values of form: ",e)},children:[(0,p.jsx)(x.Z,{gutter:24,children:t?n:n.slice(0,4)}),(0,p.jsx)(x.Z,{children:(0,p.jsxs)(Z.Z,{span:24,style:{textAlign:"right"},children:[(0,p.jsx)(i.Z,{onClick:()=>{d({...l.getFieldsValue(),page:1,page_size:u})},type:"primary",htmlType:"submit",children:"Search"}),(0,p.jsx)(i.Z,{style:{margin:"0 8px"},onClick:()=>{l.resetFields()},children:"Clear"}),(0,p.jsxs)("a",{style:{fontSize:12},onClick:()=>{a(!t)},children:[t?(0,p.jsx)(g.Z,{}):(0,p.jsx)(v.Z,{})," Collapse"]})]})})]})};var S=e=>(0,p.jsx)("div",{style:{marginBottom:"32px"},children:(0,p.jsx)(_,{})}),j={container:"style_container__bJ1XQ"};var k=()=>{const{pageNum:e,pageSize:t,loading:a,total:r,dataList:s,queryAct:l,setAddModalShowAct:d}=(0,c.o)()[0],{columns:u}=h();(0,o.useEffect)((()=>{f(e,t)}),[]);const f=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;await l({page:e,page_size:t})};return(0,p.jsxs)("div",{className:j.content,children:[(0,p.jsx)(S,{}),(0,p.jsx)(i.Z,{type:"primary",onClick:()=>{d(!0)},style:{marginBottom:12},children:"+ add"}),(0,p.jsx)(y,{}),(0,p.jsx)(n.Z,{scroll:{x:1500,y:300},rowKey:e=>e.id,loading:a,pagination:{pageSize:t,current:e,total:r,onChange(e,t){console.log(e,t),f(e,t)}},columns:u,dataSource:s})]})}},936:function(e,t,a){var i=a(6076),n=a(340),o=a(6375),r=a(5145),s=function(e,t){return n.createElement(r.Z,(0,i.Z)({},e,{ref:t,icon:o.Z}))};t.Z=n.forwardRef(s)},1377:function(e,t,a){a.d(t,{Z:function(){return l}});var i=a(6076),n=a(340),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},r=a(5145),s=function(e,t){return n.createElement(r.Z,(0,i.Z)({},e,{ref:t,icon:o}))};var l=n.forwardRef(s)},5166:function(e,t,a){var i=a(8672);t.Z=i.Z}}]);
//# sourceMappingURL=616.cd54b58b.chunk.js.map