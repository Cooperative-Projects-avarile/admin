"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[929],{9929:function(e,t,n){n.r(t),n.d(t,{default:function(){return A}});var i=n(8e3),a=n(4574),r=n(340),s=n(2466),o=n(2501),l=n(7801),c=n(1293),d=n(9334),u=n(910),m=n(3018);var p=()=>{const{setAddModalShowAct:e,deleteAct:t,queryAct:n,setIsDetailAct:i}=(0,u.o)()[0];return(0,s.Gm)((()=>[{title:"name",dataIndex:"name",key:"name",fieldConfig:{isSearch:!0,formOptions:{label:"name",name:"name",rules:[{required:!0},{type:"string",min:4,max:60}]}},render:(t,n)=>(0,m.jsx)("a",{onClick:()=>{i(!0),e(!0,n)},children:t})},{title:"description",dataIndex:"description",key:"description",fieldConfig:{isSearch:!0,formOptions:{label:"description",name:"description",rules:[{required:!0},{type:"string",min:4,max:60}]}}},{title:"parent_id",dataIndex:"parent_id",key:"parent_id",fieldConfig:{isSearch:!0,formOptions:{rules:[{type:"number"}],label:"parent_id",name:"parent_id",normalize:c.It}}},{title:"prime_id",dataIndex:"prime_id",key:"prime_id",fieldConfig:{isSearch:!0,formOptions:{rules:[{type:"number"}],label:"prime_id",name:"prime_id",normalize:c.It}}},{title:"action",key:"action",render:(i,a)=>(0,m.jsxs)(d.Z,{size:"middle",children:[(0,m.jsx)("a",{onClick:()=>{e(!0,a)},children:"edit"}),(0,m.jsx)("a",{onClick:()=>{l.Z.confirm({content:"are you sure?",onOk:async()=>{await t({id:a.id}),n()}})},children:"delete"})]})}]),[])};var f=()=>{const[e]=o.Z.useForm(),{setAddModalShowAct:t,addAct:n,updateAct:i,queryAct:a,recordData:c,isShowAddModal:d,isDetail:f}=(0,u.o)()[0],{formList:h}=p(),g=(0,s.uA)(h,{formIns:e,isJustShow:f});(0,r.useEffect)((()=>{c&&e.setFieldsValue(c)}),[c]);let x=f?{footer:[]}:{};return(0,m.jsx)(l.Z,{open:d,title:"add",...x,onCancel:()=>{e.resetFields(),t(!1)},onOk:()=>{e.validateFields().then((async r=>{let s=c?i:n;await s(r),t(!1),e.resetFields(),a()})).catch((e=>{console.log("Validate Failed:",e)}))},children:(0,m.jsx)(o.Z,{form:e,children:g})})},h=n(9075),g=n(1377),x=n(936),y=n(5166),Z=n(9473);const j=()=>{const{searchList:e}=p(),[t,n]=(0,r.useState)(!1);const a=(0,h.Z)(e,{count:4}),[s]=o.Z.useForm(),{queryAct:l,pageSize:c}=(0,u.o)()[0];return(0,m.jsxs)(o.Z,{form:s,name:"advanced_search",className:"ant-advanced-search-form",onFinish:e=>{console.log("Received values of form: ",e)},children:[(0,m.jsx)(y.Z,{gutter:24,children:t?a:a.slice(0,4)}),(0,m.jsx)(y.Z,{children:(0,m.jsxs)(Z.Z,{span:24,style:{textAlign:"right"},children:[(0,m.jsx)(i.Z,{onClick:()=>{l({...s.getFieldsValue(),page:1,page_size:c})},type:"primary",htmlType:"submit",children:"Search"}),(0,m.jsx)(i.Z,{style:{margin:"0 8px"},onClick:()=>{s.resetFields()},children:"Clear"}),(0,m.jsxs)("a",{style:{fontSize:12},onClick:()=>{n(!t)},children:[t?(0,m.jsx)(g.Z,{}):(0,m.jsx)(x.Z,{})," Collapse"]})]})})]})};var v=e=>(0,m.jsx)("div",{style:{marginBottom:"32px"},children:(0,m.jsx)(j,{})}),k={container:"style_container__9DYqF"};var A=()=>{const{pageNum:e,pageSize:t,loading:n,total:s,dataList:o,queryAct:l,setAddModalShowAct:c}=(0,u.o)()[0],{columns:d}=p();(0,r.useEffect)((()=>{h(e,t)}),[]);const h=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;await l({page:e,page_size:t})};return(0,m.jsxs)("div",{className:k.content,children:[(0,m.jsx)(v,{}),(0,m.jsx)(i.Z,{type:"primary",onClick:()=>{c(!0)},style:{marginBottom:12},children:"+ add"}),(0,m.jsx)(f,{}),(0,m.jsx)(a.Z,{scroll:{x:1500,y:300},rowKey:e=>e.id,loading:n,pagination:{pageSize:t,current:e,total:s,onChange(e,t){console.log(e,t),h(e,t)}},columns:d,dataSource:o})]})}},936:function(e,t,n){var i=n(6076),a=n(340),r=n(6375),s=n(5145),o=function(e,t){return a.createElement(s.Z,(0,i.Z)({},e,{ref:t,icon:r.Z}))};t.Z=a.forwardRef(o)},1377:function(e,t,n){n.d(t,{Z:function(){return l}});var i=n(6076),a=n(340),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},s=n(5145),o=function(e,t){return a.createElement(s.Z,(0,i.Z)({},e,{ref:t,icon:r}))};var l=a.forwardRef(o)},5166:function(e,t,n){var i=n(8672);t.Z=i.Z}}]);
//# sourceMappingURL=929.d53c31db.chunk.js.map