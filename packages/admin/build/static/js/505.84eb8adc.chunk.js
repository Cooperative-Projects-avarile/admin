"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[505],{6505:function(e,t,a){a.r(t),a.d(t,{default:function(){return M}});var r=a(2466),s=a(340),n=a(9150),o=a(8490),i=a(1665),l=a.n(i),d=a(1126),c=a(3018);var u=()=>{const{platformStatisticsData:e}=(0,r.dy)("helloPageStore")[0],t={data:(0,s.useMemo)((()=>e.length>0?p(e):[]),[e]),xField:"date",yField:"number",seriesField:"type",isGroup:!0,xAxis:{label:{autoRotate:!1}},slider:{start:.1,end:.2}};return(0,c.jsx)(o.Z,{hoverable:!0,title:"Platform statistics overtime",children:(0,c.jsx)(n.Z,{...t})})};const p=e=>{let t=[],a=[],r=[],s=[],n=[];for(let o of e)t.push({date:l()(o.created_at).format("YYYY-MM-DD"),number:o.user_count,type:"user"}),a.push({date:l()(o.created_at).format("YYYY-MM-DD"),number:o.partner_count,type:"partner"}),r.push({date:l()(o.created_at).format("YYYY-MM-DD"),number:o.enquiry_count,type:"enquiry"}),s.push({date:l()(o.created_at).format("YYYY-MM-DD"),number:o.opportunity_count,type:"opportunity"}),n.push({date:l()(o.created_at).format("YYYY-MM-DD"),number:o.visit_count,type:"visit"});return(0,d.sortBy)([...t,...a,...r,...s,...n],["date","type"])};var h="helloPage_content__pDDnw",f=a(3870),Y=a(9334),m=a(5166),x=a(9473),D=a(5238);const{Meta:b}=o.Z,j=e=>{const{data:t,title:a,description:r}=e;let s=[];if(t.length>0)switch(a){case"Visits":for(let e of t)s.push({date:l()(e.created_at).format("YYYY-MM-DD"),number:e.visits});break;case"Users":for(let e of t)s.push({date:l()(e.created_at).format("YYYY-MM-DD"),number:e.user_count});break;case"Partners":for(let e of t)s.push({date:l()(e.created_at).format("YYYY-MM-DD"),number:e.partner_count});break;case"Opportunities":for(let e of t)s.push({date:l()(e.created_at).format("YYYY-MM-DD"),number:e.opportunity_count});break;case"Enquiries":for(let e of t)s.push({date:l()(e.created_at).format("YYYY-MM-DD"),number:e.enquiry_count})}return(0,c.jsxs)(o.Z,{hoverable:!0,loading:0===t.length,style:{flexGrow:1},children:[(0,c.jsx)(b,{title:a,description:r}),s.length>0?(0,c.jsx)(y,{data:s}):"loading"]})},y=e=>{let{data:t}=e;const a={data:t,xField:"date",yField:"number",height:400};return(0,c.jsx)(D.Z,{...a})},g=()=>{const{platformStatisticsData:e}=(0,r.dy)("helloPageStore")[0],t=(0,s.useMemo)((()=>e.length>0?e:[]),[e]);return(0,c.jsxs)(m.Z,{justify:"space-between",gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,c.jsx)(x.Z,{span:12,children:(0,c.jsx)(j,{data:t,title:"Users",description:"description"})}),(0,c.jsx)(x.Z,{span:12,children:(0,c.jsx)(j,{data:t,title:"Partners",description:"description"})}),(0,c.jsx)(x.Z,{span:8,children:(0,c.jsx)(j,{data:t,title:"Enquiries",description:"description"})}),(0,c.jsx)(x.Z,{span:8,children:(0,c.jsx)(j,{data:t,title:"Visits",description:"description"})}),(0,c.jsx)(x.Z,{span:8,children:(0,c.jsx)(j,{data:t,title:"Opportunities",description:"description"})})]})};var M=()=>{const{queryOpportunityACT:e,queryPlatformACT:t}=(0,r.dy)("helloPageStore")[0],[a,n]=(0,s.useState)("all");(0,s.useEffect)((()=>{e({opportunity_ids:[],order:{}}),t({created_at:[a,(new Date).toISOString()],order:{}})}),[a]);const o=()=>(0,c.jsx)("div",{children:(0,c.jsx)(f.Z,{showSearch:!0,placeholder:"Select a time range",optionFilterProp:"children",onChange:e=>{switch(e){case"7":const e=new Date;e.setDate(e.getDate()-7),console.log(e),n(e.toString());break;case"30":const t=new Date;t.setDate(t.getDate()-30),console.log(t),n(t.toString());break;case"90":const a=new Date;a.setDate(a.getDate()-90),console.log(a),n(a.toString());break;case"all":n("2023-08-28 02:37:00.021")}},filterOption:(e,t)=>{var a;return(null!==(a=null===t||void 0===t?void 0:t.label)&&void 0!==a?a:"").toLowerCase().includes(e.toLowerCase())},defaultValue:"all",options:[{value:"7",label:"Last 7 days"},{value:"30",label:"Last Month"},{value:"90",label:"Last 3 Months"},{value:"all",label:"All Time"}]})});return(0,c.jsx)("div",{className:h,children:(0,c.jsxs)(Y.Z,{direction:"vertical",size:"middle",style:{display:"flex"},children:[(0,c.jsxs)(m.Z,{justify:"end",children:[(0,c.jsx)(x.Z,{span:8}),(0,c.jsx)(x.Z,{span:8}),(0,c.jsx)(x.Z,{span:8,children:(0,c.jsx)(o,{})})]}),(0,c.jsx)(g,{}),(0,c.jsx)(u,{})]})})}}}]);
//# sourceMappingURL=505.84eb8adc.chunk.js.map